@{
    Layout = null;
}
<div id="divCotacoes" style="font:75% Arial,Helvetica,sans-serif;">
    @Html.Hidden("IdProcessoCotacao", ViewData["IdProcessoCotacao"])
    <div id="gridCotacoes"></div>

</div>

<script src="@Url.Content("~/Scripts/kendo/2012.3.1114/kendo.web.min.js")"></script>
<script src="@Url.Content("~/Scripts/kendo/2012.3.1114/kendo.grid.min.js")"></script>
<script type="text/javascript">
    $(document).ready(function() {

        @*        $("#gridCotacoes").kendoGrid({
            dataSource: {
                /*editable: true,
                batch: true,*/
                schema: {
                    data: 'Registros',
                    model: {
                        id: 'IdCotacao',
                        fields: {
                            IdCotacao: { type: "number"/*, editable:false*/ },
                            Selecionada: { type: "boolean" },
                            Fornecedor: { type: "string"/*, editable:false*/ },
                            CodigoIva: { type: "string" },
                            QuantidadeAdquirida: { type: "number" },
                        }
                    }
                },
                type: 'json'
            },
            transport: {
                read: {
                    url: '@Url.Action("ListarCotacoes", "ProcessoCotacaoMaterial",new{idProcessoCotacao = ViewData["IdProcessoCotacao"]})',
                    type: 'GET',
                    cache: false
                }
            },
            groupable: false,
            sortable: false,
            selectable: 'row',
            columns:
            [
                { field: "Selecionada", width: 80 },
                { field: "Fornecedor", width: 150 },
                { field: "CodigoIva", title: "Iva", width: 150 },
                { field: "QuantidadeAdquirida", title: "Quantidade", width: 80 }
            ]
        });*@
        
        $("#gridCotacoes").kendoGrid({
            dataSource: {
                schema: {
                    data: 'Registros',
                    model: {
                        id: 'Id',
                        fields: {
                            Codigo: {
                                type: "string"
                            },
                            Nome: {
                                type: "string"
                            },
                            Preco: {
                                type: "number"
                            },

                            Selecionado: {
                                type: "string"
                            }
                        }
                    },
                    type: 'json'
                },
                serverFiltering: true,
                serverPaging: true,
                transport: {
                    read: {
                        url: '@Url.Action("ListarFornecedores", "ProcessoCotacaoMaterial",new{idProcessoCotacao = ViewData["IdProcessoCotacao"]})',
                        type: 'GET',
                        cache: false
                    }
                },
                pageSize: 5
            },
            groupable: false,
            sortable: true,
            selectable: 'row',
            columns:
            [
                {
                    width: 100,
                    field: "Codigo",
                    title: "Código"
                },
                {
                    field: "Nome",
                    width: 200,
                    title: "Nome"
                },
                {
                    field: "Preco",
                    width: 200,
                    title: "Preço"
                },
                {
                    field: 'Selecionado',
                    title: 'Selecionado?',
                    width: 100
                }]
        });

    });
</script>
